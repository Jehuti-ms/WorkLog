<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkLog - Student Tracker & Hours Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 WorkLog</h1>
            <p class="subtitle">Student Tracker & Hours Management System</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('setup')">⚙️ Setup</button>
            <button class="tab" onclick="switchTab('students')">👥 Students</button>
            <button class="tab" onclick="switchTab('hours')">⏰ Hours Tracker</button>
            <button class="tab" onclick="switchTab('marks')">📝 Marks Register</button>
            <button class="tab" onclick="switchTab('reports')">📈 Reports</button>
        </div>

        <div class="content">
            <!-- Setup Tab -->
            <div id="setup" class="tab-content active">
                <h2>Google Sheets Setup</h2>
                
                <div id="setupStatus" style="min-height: 50px;">
                    <!-- Status messages will appear here -->
                </div>
                
                <div class="form-group">
                    <label>Google Sheets ID</label>
                    <input type="text" id="sheetId" placeholder="Enter your Google Sheets ID">
                    <small style="color: #666; display: block; margin-top: 5px;">
                        Find this in your Google Sheets URL: docs.google.com/spreadsheets/d/<strong>YOUR_SHEET_ID</strong>/edit
                    </small>
                </div>

                <div class="form-group">
                    <label>API Key</label>
                    <input type="text" id="apiKey" placeholder="Enter your Google Sheets API Key">
                    <small style="color: #666; display: block; margin-top: 5px;">
                        Get your API key from Google Cloud Console
                    </small>
                </div>

                <!-- ✅ New Web App URL Input -->
                <div class="form-group">
                    <label>Web App URL (Google Apps Script)</label>
                    <input type="text" id="webAppUrl" placeholder="https://script.google.com/macros/s/DEPLOYMENT_ID/exec">
                    <small style="color: #666; display: block; margin-top: 5px;">
                        Paste your deployed Google Apps Script Web App URL here (used for authorized read/write access).
                    </small>
                </div>

                <button class="btn" onclick="saveConfig()">💾 Save Configuration</button>
                <button class="btn btn-secondary" onclick="testConnection()">🔌 Test Connection</button>
                <button class="btn btn-success" onclick="initializeSheets()">🚀 Initialize Sheets</button>
                <button class="btn btn-success" onclick="syncWithSheets()">🔄 Sync with Sheets</button>

                <div class="alert alert-info" style="margin-top: 20px;">
                    <strong>Setup Instructions:</strong><br>
                    1. Create a new Google Sheet<br>
                    2. Enable Google Sheets API in Google Cloud Console<br>
                    3. Deploy your Google Apps Script as a Web App (Anyone can access)<br>
                    4. Enter your Sheet ID, API Key, and Web App URL above<br>
                    5. Click "Initialize Sheets" to automatically create tabs with headers<br>
                    6. Click "Sync with Sheets" to load existing data
                </div>
            </div>

            <!-- The rest of your tabs remain unchanged -->
            <!-- Students, Hours, Marks, and Reports tabs go here (no edits needed) -->

        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
