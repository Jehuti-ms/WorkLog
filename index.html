<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkLog - Student Tracker & Hours Management</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Emergency CSS to ensure tabs work */
        .tab-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-top: 10px;
            min-height: 400px;
        }
        
        .tab-content.active {
            display: block !important;
        }
        
        .user-menu {
            display: none;
            position: absolute;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            min-width: 150px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>ğŸ“š WorkLog</h1>
            <p class="subtitle">Student Tracker & Hours Management System</p>
            
            <div class="storage-status">
                <span class="status" id="localStatus">ğŸ’¾ Local Storage: Active</span>
                <span class="status" id="syncStatus">â˜ï¸ Cloud Sync: Ready</span>
                <span class="status" id="dataStatus">ğŸ“Š Data: 0 Students, 0 Sessions</span>
                
                <!-- Auth Section -->
                <div class="auth-section" style="display: inline-block; margin-left: 10px;">
                    <button class="btn btn-sm" id="authButton">Sign In</button>
                    <div id="userMenu" class="user-menu">
                        <div class="user-info">
                            <span id="userName">User</span>
                        </div>
                        <button class="user-menu-item" onclick="window.Auth.showProfileModal()">
                            ğŸ‘¤ Profile
                        </button>
                        <button class="user-menu-item" onclick="window.Auth.logoutUser()">
                            ğŸšª Logout
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Cloud Sync Bar -->
        <div class="cloud-sync-bar">
            <div class="sync-status">
                <span class="sync-indicator sync-connected"></span>
                <span id="syncMessage">All changes saved locally</span>
            </div>
            <div class="sync-controls">
                <button class="btn btn-sm" onclick="exportData()">ğŸ“¤ Export Data</button>
                <button class="btn btn-sm btn-secondary" onclick="importData()">ğŸ“¥ Import Data</button>
                <button class="btn btn-sm btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ Clear All</button>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab active" data-tab="students">ğŸ‘¥ Students</button>
                <button class="tab" data-tab="hours">â±ï¸ Hours</button>
                <button class="tab" data-tab="marks">ğŸ“Š Marks</button>
                <button class="tab" data-tab="attendance">âœ… Attendance</button>
                <button class="tab" data-tab="payments">ğŸ’° Payments</button>
                <button class="tab" data-tab="reports">ğŸ“ˆ Reports</button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="content">
            <!-- Students Tab -->
            <div id="students" class="tab-content active">
                <h2>ğŸ“š Student Management</h2>
                <p>Student management content will appear here.</p>
                <div class="section-card">
                    <h3>Student Registration Form</h3>
                    <p>Form to add new students will be here.</p>
                </div>
            </div>

            <!-- Hours Tab -->
            <div id="hours" class="tab-content">
                <h2>â±ï¸ Hours Tracking</h2>
                <p>Hours tracking content will appear here.</p>
                <div class="section-card">
                    <h3>Log New Hours</h3>
                    <p>Form to log hours will be here.</p>
                </div>
            </div>

            <!-- Marks Tab -->
            <div id="marks" class="tab-content">
                <h2>ğŸ“Š Marks & Assessments</h2>
                <p>Marks and assessments content will appear here.</p>
                <div class="section-card">
                    <h3>Add New Mark</h3>
                    <p>Form to add marks will be here.</p>
                </div>
            </div>

            <!-- Attendance Tab -->
            <div id="attendance" class="tab-content">
                <h2>âœ… Attendance Tracking</h2>
                <p>Attendance tracking content will appear here.</p>
                <div class="section-card">
                    <h3>Quick Attendance</h3>
                    <p>Attendance form will be here.</p>
                </div>
            </div>

            <!-- Payments Tab -->
            <div id="payments" class="tab-content">
                <h2>ğŸ’° Payment Management</h2>
                <p>Payment management content will appear here.</p>
                <div class="section-card">
                    <h3>Record Payment</h3>
                    <p>Payment form will be here.</p>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <h2>ğŸ“ˆ Reports & Analytics</h2>
                <p>Reports and analytics content will appear here.</p>
                <div class="section-card">
                    <h3>Analytics Dashboard</h3>
                    <p>Charts and reports will be here.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="auth.js"></script>
    <script src="app.js"></script>

    <script>
        // Simple initialization
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Starting app...');
            
            // Auth will auto-initialize
            // Main app will initialize after auth check
            
            setTimeout(() => {
                if (window.Auth && window.Auth.isAuthenticated()) {
                    console.log('âœ… User authenticated');
                    if (typeof init === 'function') {
                        init();
                    }
                }
            }, 100);
        });
    </script>
</body>
</html>
